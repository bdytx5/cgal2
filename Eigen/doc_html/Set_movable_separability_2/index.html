<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://doc.cgal.org/latest/Set_movable_separability_2/index.html"/>

<link rel="icon" type="image/png" href="../Manual/g-196x196-doc.png" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.13" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CGAL 4.13 - 2D Movable Separability of Sets: User Manual</title>
<!-- <link href="../Manual/tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="../Manual/jquery.js"></script>
<script type="text/javascript" src="../Manual/dynsections.js"></script>
<!-- Manually include treeview and search to avoid bloat and to fix
     paths to the directory Manual . -->
<!-- $.treeview -->
<!-- $.search -->
<link href="navtree.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/searchdata.js"></script>
<script type="text/javascript" src="../Manual/search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/search.js"></script>
<!-- Manually done below. -->
<link href="../Manual/stylesheet.css" rel="stylesheet" type="text/css" />
<!-- This should probably be an extrastylesheet instead of hardcoded. -->
<link href="../Manual/cgal_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<script src="../Manual/hacks.js" type="text/javascript"></script>
<script src="modules.js" type="text/javascript"></script>
</head>
<body>
<!-- Custom mathjax -->
<!-- TODO: Remove this with MATHJAX_CODEFILE -->
<span style="display:none">\( \newcommand{\E}{\mathrm{E}} \) \( \newcommand{\A}{\mathrm{A}} \)
\( \newcommand{\R}{\mathrm{R}} \) \( \newcommand{\N}{\mathrm{N}} \) \( \newcommand{\Q}{\mathrm{Q}} \) \( \newcommand{\Z}{\mathrm{Z}} \)
\(
\def\ccSum #1#2#3{
  \sum_{#1}^{#2}{#3}
}
\def\ccProd #1#2#3{
  \sum_{#1}^{#2}{#3}
}\)
</span>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 4.13 - 2D Movable Separability of Sets
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_SetMovableSeparability2"></a>  </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Authors</dt><dd>Shahar Shamai and Efi Fogel</dd></dl>
<h1><a class="anchor" id="sms_2_sec_intro"></a>
Introduction</h1>
<p><em>Movable Separability of Sets</em> <a class="el" href="citelist.html#CITEREF_t-mss-85">[2]</a> is a class of problems that deal with moving sets of objects, such as polygons in the plane; the challenge is to avoid collisions between the objects while considering different kinds of motions and various definitions of separation. The <a href="https://en.wikipedia.org/wiki/Moving_sofa_problem">Moving sofa problem</a> or <em>sofa problem</em> is a classic member of this class. It is a two-dimensional idealisation of real-life furniture-moving problems; it asks for the rigid two-dimensional shape of largest area \(A\) that can be maneuvered through an L-shaped planar region with legs of unit width <a class="el" href="citelist.html#CITEREF_w-sf-76">[3]</a>. The area \(A\) thus obtained is referred to as the sofa constant. The exact value of the sofa constant is an open problem; see <a class="el" href="index.html#fig__sms_2_fig_sofa_problem">Figure 24.1</a>. These problems become progressively more challenging as the allowable set of separation motions becomes more complex (have more degrees of freedom), the number of objects involved grows, or the shape of the objects becomes more complicated.</p>
<p><a class="anchor" id="fig__sms_2_fig_sofa_problem"></a></p><div class="image">
<img src="sofa_problem.png" alt="sofa_problem.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__sms_2_fig_sofa_problem">Figure 24.1</a> The Hammersley sofa has area 2.2074 but is not the largest solution.  </div>  <br />

<p>At this point this package provides solutions to one subclass of problems related to 2D castings. In particular, each of these solutions handles a single moving polygon and a single stationary polygon, and considers a single translation of the moving polygon.</p>
<h1><a class="anchor" id="sms_2_sec_casting"></a>
Casting</h1>
<p>Casting is a manufacturing process where liquid material is poured into a cavity inside a mold, which has the shape of a desired product. (The mold can take any shape and form as long as it has a cavity of the desired shape.) After the material solidifies, the product is pulled out of the mold. Typically a mold is used to manufacture numerous copies of a product. The challenge is designing a proper mold, such that the solidified product can be separated from its mold without breaking it.</p>
<p>This package provides a function called <code><a class="el" href="group__top__edges__grp.html#ga0ec79c21ecf966930e0b5265cad6bd80" title="Given a simple polygon, this function determines whether a cavity (of a mold in the plane) that has t...">CGAL::Set_movable_separability_2::Single_mold_translational_casting::top_edges()</a></code> that, given a simple closed polygon \(P\), determines whether a cavity (of a mold in the plane) that has the shape of \(P\) can be used so that the polygon \(P\) could be pulled out of the mold without colliding into the mold (but possibly sliding along the mold boundary); see <a class="el" href="index.html#fig__sms_2_fig_polygons">Figure 24.2</a> for an illustration. In reality, the mold of a <em>castable</em> polygon must be rotated before the polygon is casted, such that one edge becomes parallel to the \(x\)-axis and is located above all other edges; such an edge is referred to as a <em>top edge</em>. A polygon may have up to four edges that can serve as top edges. If the polygon is <em>castable</em>, the function computes the set of top edges of such cavities and the corresponding closed ranges of pullout directions in the plane.</p>
<p><a class="anchor" id="fig__sms_2_fig_polygons"></a></p><div class="image">
<img src="polygons.png" alt="polygons.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__sms_2_fig_polygons">Figure 24.2</a> Two castable polygons (light grey) in their molds (darker grey) and valid pullout directions on the left. Two non-castable polygons on the right.  </div>  <br />

<p>The input polygon must satisfy two conditions as follows. First, it has to be simple. Essentially, a simple polygon is topologically equivalent to a disk; see Chapter <a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Boolean_set_operations_2.tag:../Boolean_set_operations_2/" href="../Boolean_set_operations_2/index.html#Chapter_2D_Regularized_Boolean_Set-Operations">2D Regularized Boolean</a>Set-Operations" for the precise definition of simple polygons. Secondly, any consecutive three vertices cannot be collinear. If you suspect that the input polygon may not satisfy the latter condition, pre-process the polygon to elliminate this ill-condition.</p>
<p>The implementation is based on an algorithm developed by Shamai and Halperin; see <a class="el" href="citelist.html#CITEREF_cgal:ss-spfis-16">[1]</a> for the generalization of the algorithm to 3D. The time and space complexities are in \(O(n)\) and \(O(1)\), respectively. In order to ensure robustness and correctness you must use a kernel that guarantees exact constructions as well as exact predicates, e,g,. <code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__exact__constructions__kernel.html">Exact_predicates_exact_constructions_kernel</a></code>.</p>
<p>The following example computes the top edges and their pullout directions of an input polygon read from a file and reports the results.</p>
<p><br />
<b>File</b> <a class="el" href="Set_movable_separability_2_2top_edges_single_mold_trans_cast_8cpp-example.html">Set_movable_separability_2/top_edges_single_mold_trans_cast.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;list&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_exact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Polygon_2.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Set_movable_separability_2/Single_mold_translational_casting/top_edges.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__exact__constructions__kernel.html">CGAL::Exact_predicates_exact_constructions_kernel</a> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Polygon.tag:../Polygon/" href="../Polygon/classCGAL_1_1Polygon__2.html">CGAL::Polygon_2&lt;Kernel&gt;</a>                           Polygon_2;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Direction__2.html">Kernel::Direction_2</a>                               Direction_2;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__2.html">Kernel::Vector_2</a>                                  Vector_2;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__2.html">Kernel::Point_2</a>                                   Point_2;</div><div class="line"></div><div class="line"><span class="comment">// A direction range is a closed range of directions on the unit circle.</span></div><div class="line"><span class="keyword">typedef</span> std::pair&lt;Direction_2, Direction_2&gt;               Direction_range;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Polygon.tag:../Polygon/" href="../Polygon/classCGAL_1_1Polygon__2.html#ae575d525fb2ad134952c28a57be92076">Polygon_2::Edge_const_iterator</a>                    Edge_iter;</div><div class="line"></div><div class="line"><span class="comment">// A top edge is identified by the index to an edge of a polygon and the</span></div><div class="line"><span class="comment">// corresponding range of pullout directions.</span></div><div class="line"><span class="keyword">typedef</span> std::pair&lt;Edge_iter, Direction_range&gt;             Top_edge;</div><div class="line"></div><div class="line"><span class="keyword">namespace </span>SMS = <a class="code" href="namespaceCGAL_1_1Set__movable__separability__2.html">CGAL::Set_movable_separability_2</a>;</div><div class="line"><span class="keyword">namespace </span>casting = SMS::Single_mold_translational_casting;</div><div class="line"></div><div class="line"><span class="comment">// The main program:</span></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>  argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  Polygon_2 polygon;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>* filename = (argc &gt; 1) ? argv[1] : <span class="stringliteral">"polygon.dat"</span>;</div><div class="line">  std::ifstream input_file(filename);</div><div class="line">  <span class="keywordflow">if</span> (! input_file.is_open()) {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Failed to open the "</span> &lt;&lt; filename &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> -1;</div><div class="line">  }</div><div class="line">  input_file &gt;&gt; polygon;</div><div class="line">  input_file.close();</div><div class="line"></div><div class="line">  std::list&lt;Top_edge&gt; <a class="code" href="group__top__edges__grp.html#ga0ec79c21ecf966930e0b5265cad6bd80">top_edges</a>;</div><div class="line"></div><div class="line">  <span class="comment">// Example for top_edges_single_mold_translational_casting_2</span></div><div class="line">  <a class="code" href="group__top__edges__grp.html#ga0ec79c21ecf966930e0b5265cad6bd80">casting::top_edges</a>(polygon, std::back_inserter(top_edges));</div><div class="line">  <span class="keywordflow">if</span> (top_edges.empty())</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">"The polygon is not castable!"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">else</span> {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">"There are "</span> &lt;&lt; top_edges.size() &lt;&lt; <span class="stringliteral">" top edges:"</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; top_edge : top_edges) {</div><div class="line">      std::cout</div><div class="line">        &lt;&lt; <span class="stringliteral">"\tEdge: "</span> &lt;&lt; *top_edge.first&lt;&lt; std::endl</div><div class="line">        &lt;&lt; <span class="stringliteral">"\tPullout directions from: "</span> &lt;&lt; top_edge.second.first</div><div class="line">        &lt;&lt; <span class="stringliteral">" to "</span> &lt;&lt; top_edge.second.second</div><div class="line">        &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>This package provides two additional functions, namely, <code><a class="el" href="group__pullout__directions__grp.html#ga861c10709685f4154563d651146129ec" title="Given a simple polygon and an edge of the polygon, this function determines whether a cavity (of a mo...">CGAL::Set_movable_separability_2::Single_mold_translational_casting::pullout_directions()</a></code> and <code><a class="el" href="group__is__pullout__direction__grp.html#ga0e2c774abc7cc2d8d99e10e243c050e6" title="Given a simple polygon and a direction, this function determines whether a cavity (of a mold in the p...">CGAL::Set_movable_separability_2::Single_mold_translational_casting::is_pullout_direction()</a></code>. The former accepts a simple closed polygon \(P\) and an edge \(e\) of the polygon \(P\); it determines whether \(e\) is a top edge of \(P\), and if so, it computes the range of pullout directions of \(e\). The latter is overloaded with two versions: The first version accepts a simple closed polygon \(P\) and a direction \(d\); it determines whether \(d\) is a pullout direction of some top edge of \(P\). The other version accepts, in addition, an edge \(e\) of the polygon \(P\); it determines whether \(d\) is a pullout direction of \(e\).</p>
<p>Overloads of each of the functions above that accept (i) an additional argument that indicates the orientation of the input polygon or (ii) an additional traits argument, or (iii) both, are also provided by the package. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 1 2018 11:58:38 for CGAL 4.13 - 2D Movable Separability of Sets by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>


</html>
