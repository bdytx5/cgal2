<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://doc.cgal.org/latest/STL_Extension/index.html"/>

<link rel="icon" type="image/png" href="../Manual/g-196x196-doc.png" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.13" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CGAL 4.13 - STL Extensions for CGAL: User Manual</title>
<!-- <link href="../Manual/tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="../Manual/jquery.js"></script>
<script type="text/javascript" src="../Manual/dynsections.js"></script>
<!-- Manually include treeview and search to avoid bloat and to fix
     paths to the directory Manual . -->
<!-- $.treeview -->
<!-- $.search -->
<link href="navtree.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/searchdata.js"></script>
<script type="text/javascript" src="../Manual/search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/search.js"></script>
<!-- Manually done below. -->
<link href="../Manual/stylesheet.css" rel="stylesheet" type="text/css" />
<!-- This should probably be an extrastylesheet instead of hardcoded. -->
<link href="../Manual/cgal_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<script src="../Manual/hacks.js" type="text/javascript"></script>
<script src="modules.js" type="text/javascript"></script>
</head>
<body>
<!-- Custom mathjax -->
<!-- TODO: Remove this with MATHJAX_CODEFILE -->
<span style="display:none">\( \newcommand{\E}{\mathrm{E}} \) \( \newcommand{\A}{\mathrm{A}} \)
\( \newcommand{\R}{\mathrm{R}} \) \( \newcommand{\N}{\mathrm{N}} \) \( \newcommand{\Q}{\mathrm{Q}} \) \( \newcommand{\Z}{\mathrm{Z}} \)
\(
\def\ccSum #1#2#3{
  \sum_{#1}^{#2}{#3}
}
\def\ccProd #1#2#3{
  \sum_{#1}^{#2}{#3}
}\)
</span>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 4.13 - STL Extensions for CGAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_STL_Extensions_for_CGAL"></a>  </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Authors</dt><dd>Michael Hoffmann, Cl√©ment Jamin, Lutz Kettner, Sylvain Pion, and Ron Wein</dd></dl>
<h1><a class="anchor" id="stl_intro"></a>
Introduction</h1>
<p><span style="font-variant: small-caps;">CGAL</span> is designed in the spirit of the generic programming paradigm to work together with the Standard Template Library (<span style="font-variant: small-caps;">STL</span>) <a class="el" href="citelist.html#CITEREF_cgal:ansi-is14882-98">[2]</a>, <a class="el" href="citelist.html#CITEREF_cgal:a-gps-98">[1]</a>. This chapter documents non-geometric <span style="font-variant: small-caps;">STL</span>-like components that are not provided in the <span style="font-variant: small-caps;">STL</span> standard but in <span style="font-variant: small-caps;">CGAL</span>: a doubly-connected list managing items in place (where inserted items are not copied), a compact container, a multi-set class that uses three-valued comparisons and offers additional functionality, generic algorithms, iterators, functor adaptors for binding and swapping arguments and for composition, functors for projection and creation and adaptor classes around iterators and circulators. See also circulators in Chapter <a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Circulator.tag:../Circulator/" href="../Circulator/index.html#Chapter_Handles_Ranges_and_Circulators">Handles and Circulators</a>. A class storing polymorphic objects is also provided, as well as a class to manage the uncertainty of some values. Finally, tags and policy classes to specify complexity trade-offs of data-structures, and a class which helps specifying that the default types in template parameter lists are desired is also provided.</p>
<h1><a class="anchor" id="stl_doubly"></a>
Doubly-Connected List Managing Items in Place</h1>
<p>The class <code><a class="el" href="classCGAL_1_1In__place__list.html" title="An object of the class In_place_list represents a sequence of items of type T that supports bidirecti...">In_place_list</a>&lt;T,bool&gt;</code> manages a sequence of items in place in a doubly-connected list. Its goals are the flexible handling of memory management and performance optimization. The item type has to provide the two necessary pointers <code>&amp;T::next_link</code> and <code>&amp;T::prev_link</code>. One possibility to obtain these pointers is to inherit them from the base class <code><a class="el" href="classCGAL_1_1In__place__list__base.html" title="The node base classes provides pointers to build linked lists. ">In_place_list_base</a>&lt;T&gt;</code>.</p>
<p>The class <code><a class="el" href="classCGAL_1_1In__place__list.html" title="An object of the class In_place_list represents a sequence of items of type T that supports bidirecti...">In_place_list</a>&lt;T,bool&gt;</code> is a container quite similar to <span style="font-variant: small-caps;">STL</span> containers, with the advantage that it is able to handle the stored elements by reference instead of copying them. It is possible to delete an element only knowing its address and no iterator to it. This used to simplify mutually pointed data structures like a halfedge data structure for planar maps or polyhedral surfaces (the current design does not need this anymore). The usual iterators are also available.</p>
<h1><a class="anchor" id="stl_compact"></a>
Compact Containers</h1>
<p>The class <code><a class="el" href="classCGAL_1_1Compact__container.html" title="An object of the class Compact_container is a container of objects of type T. ">Compact_container</a>&lt;T, Allocator&gt;</code> is an <span style="font-variant: small-caps;">STL</span> like container which provides a very compact storage for its elements. It achieves this goal by requiring <code>T</code> to provide access to a pointer in it, which is going to be used by <code><a class="el" href="classCGAL_1_1Compact__container.html" title="An object of the class Compact_container is a container of objects of type T. ">Compact_container</a>&lt;T, Allocator&gt;</code> for its internal management. The traits class <code><a class="el" href="structCGAL_1_1Compact__container__traits.html" title="The traits class Compact_container_traits provides the way to access the internal pointer required fo...">Compact_container_traits</a>&lt;T&gt;</code> specifies the way to access that pointer. The class <code><a class="el" href="classCGAL_1_1Compact__container__base.html" title="The class Compact_container_base can be used as a base class for your own type T, so that T can be us...">Compact_container_base</a></code> can be used as a base class to provide the pointer, although in this case you do not get the most compact representation. The values that this pointer can have during valid use of the object are valid pointer values to 4 bytes aligned objects (i.e., the two least significant bits of the pointer need to be zero when the object is constructed). Another interesting property of this container is that iterators are not invalidated during <code>insert</code> or <code>erase</code> operations.</p>
<p>The main deviation from the <span style="font-variant: small-caps;">STL</span> container concept is that the <code>++</code> and <code>--</code> operators of the iterator do not have a constant time complexity in all cases. The actual complexity is related to the maximum size that the container has had during its life time compared to its current size, because the iterator has to go over the "erased" elements as well, so the bad case is when the container used to contain lots of elements, but now has far less. In this case, we suggest to do a copy of the container in order to "defragment" the internal representation.</p>
<p>The objects stored in this container can optionally store an "erase counter". If it exists, i.e. if the object is a model of the <code><a class="el" href="classObjectWithEraseCounter.html" title="The concept ObjectWithEraseCounter describes the functionalities an object must provide so that its e...">ObjectWithEraseCounter</a></code> concept, each time an object is erased from the container, the erase counter of the object will be incremented. For example, this erase counter can be exploited using the <code><a class="el" href="classCGAL_1_1CC__safe__handle.html" title="The class CC_safe_handle is a helper class that stores an iterator on a Compact_container (or Concurr...">CC_safe_handle</a></code> helper class, so that one can know if a handle is still pointing to the same element. Note that this is meaningful only because the container doesn't deallocate elements until the destruction or clear() of the container. For example, this counter is used by the parallel 3D mesh generation engine to lazily manage the queues of bad cells: an element in the queue is a pair containing a cell iterator and the erase counter value of the cell when it has been inserted. When an element is popped from the queue, the algorithm checks if the current value of the erase counter matches the stored value. If it doesn't match, it means the cell has been destroyed in the meantime and the algorithm ignores it. Without this lazy management, each time a cell is destroyed, the algorithm has to look for it in the queue and remove it. This mechanism is even more useful for the parallel version of the meshing process, since each thread has its own queue and looking for a cell in all the queues would be very slow.</p>
<p>This container has been developed in order to efficiently handle large data structures like the triangulation and halfedge data structures. It can probably be useful for other kinds of graphs as well.</p>
<p>The class <code><a class="el" href="classCGAL_1_1Concurrent__compact__container.html" title="An object of the class Concurrent_compact_container is a container of objects of type T...">Concurrent_compact_container</a>&lt;T, Allocator&gt;</code> provides the same features, but enables concurrency-safe <code>insert</code> and <code>erase</code> operations. Other operations are not concurrency-safe. It requires the program to be linked against the <a href="http://www.threadingbuildingblocks.org">Intel TBB library</a>.</p>
<h1><a class="anchor" id="stl_multi"></a>
Multiset with Extended Functionality</h1>
<p>The class <code><a class="el" href="classCGAL_1_1Multiset.html">Multiset</a>&lt;Type,Compare,Allocator&gt;</code> represents a multi-set of elements of type <code>Type</code>, represented as a red-black tree (see <a class="el" href="citelist.html#CITEREF_clrs-ia-01">[3]</a> for an excellent introduction to red-black trees). It differs from the <span style="font-variant: small-caps;">STL</span>'s <code>multiset</code> class-template mainly due to the fact that it is parameterized by a comparison functor <code>Compare</code> that returns the three-valued <code>Comparison_result</code> (namely it returns either <code>SMALLER</code>, <code>EQUAL</code>, or <code>LARGER</code>), rather than a <em>less</em> functor returning <code>bool</code>. Thus, it is possible to maintain the underlying red-black tree with less invocations of the comparison functor, which can considerably decrease running times, especially when comparing elements of type <code>Type</code> is an expensive operation.</p>
<p><code><a class="el" href="classCGAL_1_1Multiset.html">Multiset</a>&lt;Type,Compare,Allocator&gt;</code> also guarantees that the order of elements sent to the comparison functor is fixed. For example, if we insert a new element <code>x</code> into the set (or erase an element from the set), then we always invoke <code>Compare()(x, y)</code> (and never <code>Compare()(y, x)</code>), where <code>y</code> is an element already stored in the set. This behavior, not supported by <code>std::multiset</code>, is sometimes crucial for designing more efficient comparison predicates.</p>
<p>The interface of <code><a class="el" href="classCGAL_1_1Multiset.html">Multiset</a>&lt;Type,Compare,Allocator&gt;</code> is in general derived from <code>std::multiset</code>. However, it extends the interface by offering some additional operations, such as: inserting of an element into the set given its <em>exact</em> position (and not just using an insertion hint); looking up keys whose type may differ from <code>Type</code>, as long as users supply a comparison functor <code>CompareKey</code>, between the keys and set elements; and catenating and splitting sets.</p>
<h1><a class="anchor" id="stl_hash"></a>
Hashing</h1>
<p>For handles and indices of vertices, halfedges, faces, etc., we provide specializations of <code>boost::hash&lt;T&gt;</code> and <code>std::hash&lt;T&gt;</code>, so that they can be used with classes such as <code>boost::unordered_map</code>.</p>
<p><br />
<b>File</b> <a class="el" href="STL_Extension_2unordered_map_8cpp-example.html">STL_Extension/unordered_map.cpp</a> </p><div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Simple_cartesian.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Surface_mesh.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;boost/unordered_map.hpp&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/structCGAL_1_1Simple__cartesian.html">CGAL::Simple_cartesian&lt;double&gt;</a>  <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a>                 Point_3;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html">CGAL::Surface_mesh&lt;Point_3&gt;</a>     Mesh;</div><div class="line"><span class="keyword">typedef</span> boost::graph_traits&lt;Mesh&gt;::vertex_descriptor vertex_descriptor;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{ </div><div class="line">  boost::unordered_map&lt;vertex_descriptor, int&gt; bum;</div><div class="line">  Mesh mesh;</div><div class="line">  vertex_descriptor vd  = mesh.<a class="codeRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html#a6f899386b0667edc64cfae79cc93386e">add_vertex</a>();</div><div class="line">  bum[vd] = 7812;</div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="stl_polyobject"></a>
Polymorphic Object</h1>
<p>The class <code><a class="el" href="classCGAL_1_1Object.html" title="Some functions can return different types of objects. ">Object</a></code> can store an object of whatever other type. It can be used by a function to return objects of different types. A mechanism to extract the stored object based on its type is also provided. This class is similar to <code>boost::any</code>.</p>
<h1><a class="anchor" id="stl_uncertainty"></a>
Uncertainty Management</h1>
<p>The class <code><a class="el" href="classCGAL_1_1Uncertain.html" title="An object of the class Uncertain represents an uncertainty on the value of type T. ">Uncertain</a>&lt;T&gt;</code> represents a range of values of type <code>T</code>. <code>T</code> is allowed to stand for <code>bool</code>, or <span style="font-variant: small-caps;">CGAL</span>'s enumeration types <code>Sign</code>, <code>Comparison_result</code>, <code>Orientation</code>, <code>Oriented_side</code>, <code>Bounded_side</code> and <code>Angle</code>.</p>
<p>The idea is that sometimes you are not sure of the result of a function, and you would like to communicate that to the caller. <code><a class="el" href="classCGAL_1_1Uncertain.html" title="An object of the class Uncertain represents an uncertainty on the value of type T. ">Uncertain</a>&lt;T&gt;</code> allows just that. It also provides functions to naturally extend the Boolean operations for <code><a class="el" href="classCGAL_1_1Uncertain.html" title="An object of the class Uncertain represents an uncertainty on the value of type T. ">Uncertain</a>&lt;bool&gt;</code> for example.</p>
<p><code><a class="el" href="classCGAL_1_1Uncertain.html" title="An object of the class Uncertain represents an uncertainty on the value of type T. ">Uncertain</a>&lt;T&gt;</code> is used in <span style="font-variant: small-caps;">CGAL</span> as the return type of geometric predicates when the number type used is interval arithmetic like <code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Number_types.tag:../Number_types/" href="../Number_types/classCGAL_1_1Interval__nt.html">Interval_nt</a></code>. End users typically do not see it as it is hidden in the implementation of the filtered predicates provided by the various filtered kernels, but it is important that providers of predicates that are meant to be filtered by <code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Filtered__predicate.html">Filtered_predicate</a></code>, know about it.</p>
<p>It can also be used in other contexts as well, as it is a general tool.</p>
<h1><a class="anchor" id="stl_complexity"></a>
Complexity Tags and Policies</h1>
<p>Some data structures and algorithms can be implemented with different complexity trade-offs between memory usage and time complexity. <span style="font-variant: small-caps;">CGAL</span> provides the tags <code><a class="el" href="structCGAL_1_1Fast.html" title="Fast is a tag class. ">Fast</a></code> and <code><a class="el" href="structCGAL_1_1Compact.html" title="Compact is a tag class. ">Compact</a></code> which can be used to select between those variants. For example, the <code><a class="el" href="structCGAL_1_1Location__policy.html" title="Location_policy is a policy class which can be used to specify a trade-off between memory usage and t...">Location_policy</a></code> class is parameterized by these tags and allows to specify the complexity of point location (currently in <code>Delaunay_triangulation_3</code> only). Convenient typedefs <code>Fast_location</code> and <code>Compact_location</code> are also provided.</p>
<h1><a class="anchor" id="stl_defaults"></a>
Default Arguments in Template Parameter Lists</h1>
<p>In <span style="font-variant: small-caps;">C++</span>, it is possible to specify defaults at the end of a template parameter list. Specifying that one wishes to use the default is simply done by omitting it. This is however possible only at the end of the list. <code><a class="el" href="structCGAL_1_1Default.html" title="Default is a tag class. ">Default</a></code> provides a simple mechanism that performs something equivalent anywhere in the sequence.</p>
<h1><a class="anchor" id="stl_wrappers"></a>
C++ 11 Wrappers</h1>
<p>Wrappers for the classes <code>array</code> and <code>tuple</code> which, based on availability, either use the version of <em>Boost</em> or the one provided by the standard library are provided in the namespace <code><a class="el" href="namespaceCGAL_1_1cpp11.html">CGAL::cpp11</a></code>. The namespace alias <code><a class="el" href="namespaceCGAL_1_1cpp11.html">CGAL::cpp11</a></code> is provided for backward compatibility. Those are documented for completeness and implementers. They are not intended to be used by users of the library.</p>
<h1><a class="anchor" id="secchecks"></a>
Checks</h1>
<p>Much of the <span style="font-variant: small-caps;">CGAL</span> code contains checks. For example, all checks used in the kernel code are prefixed by <code>CGAL_KERNEL</code>. Other packages have their own prefixes, as documented in the corresponding chapters. Some are there to check if the kernel behaves correctly, others are there to check if the user calls kernel routines in an acceptable manner.</p>
<p>There are five types of checks. The first three are errors and lead to a halt of the program if they fail. The fourth only leads to a warning, and the last one is compile-time only.</p>
<dl>
<dt>Preconditions </dt>
<dd>check if the caller of a routine has called it in a proper fashion. If such a check fails it is the responsibility of the caller (usually the user of the library).  </dd>
<dt>Postconditions </dt>
<dd>check if a routine does what it promises to do. If such a check fails it is the fault of this routine, so of the library.  </dd>
<dt>Assertions </dt>
<dd>are other checks that do not fit in the above two categories.  </dd>
<dt>Warnings </dt>
<dd>are checks for which it is not so severe if they fail.  </dd>
<dt>Static assertions </dt>
<dd>are compile-time assertions, used e.g. to verify the values of compile-time constants or compare types for (in)equality.  </dd>
</dl>
<p>By default, all of these checks are performed. It is however possible to turn them off through the use of compile time switches. For example, for the checks in the kernel code, these switches are the following: <code>CGAL_KERNEL_NO_PRECONDITIONS</code>, <code>CGAL_KERNEL_NO_POSTCONDITIONS</code>, <code>CGAL_KERNEL_NO_ASSERTIONS</code> and <code>CGAL_KERNEL_NO_WARNINGS</code>.</p>
<p>So, in order to compile the file <code>foo.cpp</code> with the postcondition checks off, you can do:</p>
<p><code>CC -DCGAL_KERNEL_NO_POSTCONDITIONS foo.cpp</code></p>
<p>This is also preferably done by modifying your makefile by adding <code>-DCGAL_KERNEL_NO_POSTCONDITIONS</code> to the <code>CXXFLAGS</code> variable.</p>
<p>The name <code>KERNEL</code> in the macro name can be replaced by a package specific name in order to control assertions done in a given package. This name is given in the documentation of the corresponding package, in case it exists.</p>
<p>Note that global macros can also be used to control the behavior over the whole <span style="font-variant: small-caps;">CGAL</span> library:</p>
<ul>
<li><code>CGAL_NO_PRECONDITIONS</code>,</li>
<li><code>CGAL_NO_POSTCONDITIONS</code>,</li>
<li><code>CGAL_NO_ASSERTIONS</code>,</li>
<li><code>CGAL_NO_WARNINGS</code> and</li>
<li><code>CGAL_NDEBUG</code>.</li>
</ul>
<p>Setting the macro <code>CGAL_NDEBUG</code> disables all checks. This way, adding <code>-DCGAL_NDEBUG</code> to your compilation flags removes absolutely all checks. This is the default recommended setup for performing timing benchmarks for example.</p>
<p>Note that the setting of the standard macro <code>NDEBUG</code> sets <code>CGAL_NDEBUG</code>, unless <code>CGAL_DEBUG</code> is also defined. If both <code>NDEBUG</code> and <code>CGAL_DEBUG</code> are defined, then the the standard <code>assert</code> macro is disabled, but not the <a class="el" href="namespaceCGAL.html">CGAL</a> assertions and preconditions.</p>
<p>Not all checks are on by default. The first four types of checks can be marked as expensive or exactness checks (or both). These checks need to be turned on explicitly by supplying one or both of the compile time switches <code>CGAL_KERNEL_CHECK_EXPENSIVE</code> and <code>CGAL_KERNEL_CHECK_EXACTNESS</code>.</p>
<p>Expensive checks are, as the word says, checks that take a considerable time to compute. Considerable is an imprecise phrase. Checks that add less than 10 percent to the execution time of the routine they are in are not expensive. Checks that can double the execution time are. Somewhere in between lies the border line. Checks that increase the asymptotic running time of an algorithm are always considered expensive. Exactness checks are checks that rely on exact arithmetic. For example, if the intersection of two lines is computed, the postcondition of this routine may state that the intersection point lies on both lines. However, if the computation is done with doubles as number type, this may not be the case, due to round off errors. So, exactness checks should only be turned on if the computation is done with some exact number type.</p>
<p>By definition, static assertions are both inexpensive and unaffected by precision management. Thus, the categories do not apply for static assertions.</p>
<h2><a class="anchor" id="stl_alteriung"></a>
Altering the Failure Behavior</h2>
<p>As stated above, if a postcondition, precondition or assertion is violated, an exception is thrown, and if nothing is done to catch it, the program will abort. This behavior can be changed by means of the function <code><a class="el" href="group__PkgStlExtensionAssertions.html#ga57511207f5935f17b3264e2d03124027" title="This function is not thread safe. ">set_error_behaviour()</a></code> and the enum <code>Failure_behaviour</code>.</p>
<p>The <code>THROW_EXCEPTION</code> value is the default, which throws an exception.</p>
<p>If the <code>EXIT</code> value is set, the program will stop and return a value indicating failure, but not dump the core. The <code>CONTINUE</code> value tells the checks to go on after diagnosing the error. Note that since <span style="font-variant: small-caps;">CGAL</span> 3.4, <code>CONTINUE</code> has the same effect as <code>THROW_EXCEPTION</code> for errors (but it keeps its meaning for warnings), it is not possible anymore to let assertion failures simply continue (except by totally disabling them).</p>
<p> </p><div class="CGALAdvanced"> <div>Advanced</div> 
<p>If the <code>EXIT_WITH_SUCCESS</code> value is set, the program will stop and return a value corresponding to successful execution and not dump the core.  </p></div> 
<p>The value that is returned by <code><a class="el" href="group__PkgStlExtensionAssertions.html#ga57511207f5935f17b3264e2d03124027" title="This function is not thread safe. ">set_error_behaviour()</a></code> is the value that was in use before.</p>
<p>For warnings we provide <code><a class="el" href="group__PkgStlExtensionAssertions.html#gaeb4e85bca7bfc12e7fd086bf36a39a77" title="This function is not thread safe. ">set_warning_behaviour()</a></code> which works in the same way. The only difference is that for warnings the default value is <code>CONTINUE</code>.</p>
<p>Setting the error and warning behavior is not thead safe.</p>
<h2><a class="anchor" id="stl_control"></a>
Control at a Finer Granularity</h2>
<p>The compile time flags as described up to now all operate on the whole library. Sometimes you may want to have a finer control. <span style="font-variant: small-caps;">CGAL</span> offers the possibility to turn checks on and off with a bit finer granularity, namely the module in which the routines are defined. The name of the module is to be appended directly after the <span style="font-variant: small-caps;">CGAL</span> prefix. So, the flag <code>CGAL_KERNEL_NO_ASSERTIONS</code> switches off assertions in the kernel only, the flag <code>CGAL_CH_CHECK_EXPENSIVE</code> turns on expensive checks in the convex hull module. The name of a particular module is documented with that module.</p>
<h2><a class="anchor" id="stl_customizing"></a>
Customizing how Errors are Reported</h2>
<p>Normally, error messages are written to the standard error output. It is possible to do something different with them. To that end you can register your own handler using <code><a class="el" href="group__PkgStlExtensionAssertions.html#gaf17f67aed4fb6c658ec7cb3f96f9d838" title="This function is not thread safe. ">set_error_handler(Failure_function handler)</a></code> This function should be declared as follows.</p>
<p>There are several things that you can do with your own handler. You can display a diagnostic message in a different way, for instance in a pop up window or to a log file (or a combination). You can also implement a different policy on what to do after an error. For instance, you can throw an exception or ask the user in a dialog whether to abort or to continue. If you do this, it is best to set the error behavior to <code>CONTINUE</code>, so that it does not interfere with your policy.</p>
<p>You can register two handlers, one for warnings and one for errors. Of course, you can use the same function for both if you want. When you set a handler, the previous handler is returned, so you can restore it if you want.</p>
<h3><a class="anchor" id="stl_failure_example"></a>
Example</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/assertions.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> my_failure_handler(</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *type,</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *expr,</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* file,</div><div class="line">    <span class="keywordtype">int</span> line,</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* msg)</div><div class="line">{</div><div class="line">    <span class="comment">// report the error in some way.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> foo()</div><div class="line">{</div><div class="line">    <a class="code" href="group__PkgStlExtensionAssertions.html#ga22c85e11e31ba1f9954022947822983d">CGAL::Failure_function</a> <a class="code" href="group__STLAlgos.html#ga6c3790809028471b1eacccb0d714d040">prev</a>;</div><div class="line">    prev = <a class="code" href="group__PkgStlExtensionAssertions.html#gaf17f67aed4fb6c658ec7cb3f96f9d838">CGAL::set_error_handler</a>(my_failure_handler);</div><div class="line">    <span class="comment">// call some routines.</span></div><div class="line">    <a class="code" href="group__PkgStlExtensionAssertions.html#gaf17f67aed4fb6c658ec7cb3f96f9d838">CGAL::set_error_handler</a>(prev);</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 1 2018 11:59:07 for CGAL 4.13 - STL Extensions for CGAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>

</html>
