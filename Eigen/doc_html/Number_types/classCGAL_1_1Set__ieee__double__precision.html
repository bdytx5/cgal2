<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://doc.cgal.org/latest/Number_types/classCGAL_1_1Set__ieee__double__precision.html"/>

<link rel="icon" type="image/png" href="../Manual/g-196x196-doc.png" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.13" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CGAL 4.13 - Number Types: CGAL::Set_ieee_double_precision Class Reference</title>
<!-- <link href="../Manual/tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="../Manual/jquery.js"></script>
<script type="text/javascript" src="../Manual/dynsections.js"></script>
<!-- Manually include treeview and search to avoid bloat and to fix
     paths to the directory Manual . -->
<!-- $.treeview -->
<!-- $.search -->
<link href="navtree.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/searchdata.js"></script>
<script type="text/javascript" src="../Manual/search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/search.js"></script>
<!-- Manually done below. -->
<link href="../Manual/stylesheet.css" rel="stylesheet" type="text/css" />
<!-- This should probably be an extrastylesheet instead of hardcoded. -->
<link href="../Manual/cgal_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<script src="../Manual/hacks.js" type="text/javascript"></script>
<script src="modules.js" type="text/javascript"></script>
</head>
<body>
<!-- Custom mathjax -->
<!-- TODO: Remove this with MATHJAX_CODEFILE -->
<span style="display:none">\( \newcommand{\E}{\mathrm{E}} \) \( \newcommand{\A}{\mathrm{A}} \)
\( \newcommand{\R}{\mathrm{R}} \) \( \newcommand{\N}{\mathrm{N}} \) \( \newcommand{\Q}{\mathrm{Q}} \) \( \newcommand{\Z}{\mathrm{Z}} \)
\(
\def\ccSum #1#2#3{
  \sum_{#1}^{#2}{#3}
}
\def\ccProd #1#2#3{
  \sum_{#1}^{#2}{#3}
}\)
</span>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 4.13 - Number Types
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCGAL_1_1Set__ieee__double__precision.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="classCGAL_1_1Set__ieee__double__precision-members.html">List of all members</a> |
<a href="#related">Related Functions</a>  </div>
  <div class="headertitle">
<div class="title">CGAL::Set_ieee_double_precision Class Reference<div class="ingroups"><a class="el" href="group__PkgNumberTypes.html">Number Types Reference</a> » <a class="el" href="group__nt__util.html">Utilities</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;CGAL/FPU.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Definition</h2>
<div class="textblock"><p>The class <code><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html" title="The class Set_ieee_double_precision provides a mechanism to set the correct 53 bits precision for a b...">Set_ieee_double_precision</a></code> provides a mechanism to set the correct 53 bits precision for a block of code. </p>
<p>It does so by having a default constructor that sets a particular mode on the FPU which corrects the problem, and have its destructor reset the mode to its previous state.</p>
<p><a class="anchor" id="set_ieee_double_precision"></a></p>
<p>The IEEE754 standard specifies that the precision of double precision floating-point numbers should be 53 bits, with 11 bits for the exponent range.</p>
<p>Some processors violate this rule by providing excess precision during some computations (when values are in registers). This is the case of the x86 Intel processor and compatible processors (note that the SSE2 more recent alternative FPU is fortunately not affected by this issue). The effect of such excess precision can be a problem for some computations, since it can produce so-called double rounding effects, where actually <em>less</em> precision is actually provided! It can also be the root of non-deterministic computations depending on compiler optimizations or not (since this affects how long variables are kept in registers), for example numerical floating-point values get computed with slightly different results. Finally, it affects code that carefully makes use of cancellation properties, like <code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Modular_arithmetic.tag:../Modular_arithmetic/" href="../Modular_arithmetic/classCGAL_1_1Residue.html">Residue</a></code>.</p>
<p>If the platform is not affected by the excess precision problem, this class becomes an empty class doing nothing.</p>
<p>Note that nothing can be done for the excess range of the exponent, which affects underflow and overflow cases, fortunately less frequent.</p>
<p>Note also that in the process of setting the correct precision, the rounding mode is also set to the nearest.</p>
<p>Moreover, some compilers provide a flag that performs this setting at the time of program startup. For example, GCC provides the option <code>-mpc64</code> since release 4.3 which does exactly this. Other compilers may have similar options.</p>
<p>Similarly, some third-party libraries may do the same thing as part of their startup process, and this is notably the case of LEDA (at least some versions of it). <span style="font-variant: small-caps;">CGAL</span> does not enforce this at startup as it would impact computations with long double performed by other codes in the same program.</p>
<p>Note that this property is notably required for proper functionning of the <code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Modular_arithmetic.tag:../Modular_arithmetic/" href="../Modular_arithmetic/classCGAL_1_1Residue.html">Residue</a></code> class that performs modular arithmetic using efficient floating-point operations.</p>
<p>Note concerning Visual C++ 64-bit: due to a compiler bug, the stack unwinding process happenning when an exception is thrown does not correctly execute the restoring operation when the <code><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html" title="The class Set_ieee_double_precision provides a mechanism to set the correct 53 bits precision for a b...">Set_ieee_double_precision</a></code> object is destroyed. Therefore, for this configuration, some explicit code has to be added if you care about the state being restored.</p>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="structCGAL_1_1Protect__FPU__rounding.html" title="The class Protect_FPU_rounding allows to reduce the number of rounding mode changes when evaluating s...">CGAL::Protect_FPU_rounding</a>&lt;Protected&gt;</code> </dd>
<dd>
<code><a class="elRef" doxygen="/home/cgal-testsuite/cgal_doc_build/CGAL-4.13-I-128/doc/scripts/doc_1_8_13/doc_tags/Modular_arithmetic.tag:../Modular_arithmetic/" href="../Modular_arithmetic/classCGAL_1_1Residue.html">CGAL::Residue</a></code> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related" id="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:a4a328d0ca2892ada2b64ae5aca2fcc95"><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html#a4a328d0ca2892ada2b64ae5aca2fcc95">force_ieee_double_precision</a> ()</td></tr>
<tr class="memdesc:a4a328d0ca2892ada2b64ae5aca2fcc95"><td class="mdescLeft"> </td><td class="mdescRight">Sets the precision of operations on double to 53bits.  <a href="#a4a328d0ca2892ada2b64ae5aca2fcc95">More...</a><br /></td></tr>
<tr class="separator:a4a328d0ca2892ada2b64ae5aca2fcc95"><td class="memSeparator" colspan="2"> </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group" id="member-group"></a>
Creation</h2></td></tr>
<tr class="memitem:a1ff28f78034e2a2c61ee53183b3d4a7c"><td class="memItemLeft" align="right" valign="top"> </td><td class="memItemRight" valign="bottom"><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html#a1ff28f78034e2a2c61ee53183b3d4a7c">Set_ieee_double_precision</a> ()</td></tr>
<tr class="memdesc:a1ff28f78034e2a2c61ee53183b3d4a7c"><td class="mdescLeft"> </td><td class="mdescRight">Sets the precision of operations on double to 53bits.  <a href="#a1ff28f78034e2a2c61ee53183b3d4a7c">More...</a><br /></td></tr>
<tr class="separator:a1ff28f78034e2a2c61ee53183b3d4a7c"><td class="memSeparator" colspan="2"> </td></tr>
<tr class="memitem:a2203d4c1f70c2454c6bbe5888d3f23a1"><td class="memItemLeft" align="right" valign="top"><a id="a2203d4c1f70c2454c6bbe5888d3f23a1"></a>
 </td><td class="memItemRight" valign="bottom"><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html#a2203d4c1f70c2454c6bbe5888d3f23a1">~Set_ieee_double_precision</a> ()</td></tr>
<tr class="memdesc:a2203d4c1f70c2454c6bbe5888d3f23a1"><td class="mdescLeft"> </td><td class="mdescRight">The precision and rounding modes are reset to the values they held before the constructor was called. <br /></td></tr>
<tr class="separator:a2203d4c1f70c2454c6bbe5888d3f23a1"><td class="memSeparator" colspan="2"> </td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1ff28f78034e2a2c61ee53183b3d4a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff28f78034e2a2c61ee53183b3d4a7c">◆ </a></span>Set_ieee_double_precision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CGAL::Set_ieee_double_precision::Set_ieee_double_precision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the precision of operations on double to 53bits. </p>
<p>Note that the rounding mode is set to the nearest in the same process. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a4a328d0ca2892ada2b64ae5aca2fcc95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a328d0ca2892ada2b64ae5aca2fcc95">◆ </a></span>force_ieee_double_precision()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void force_ieee_double_precision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the precision of operations on double to 53bits. </p>
<p>Note that the rounding mode is set to the nearest in the same process.</p>
<p>The function does the same thing as the default constructor of <code><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html" title="The class Set_ieee_double_precision provides a mechanism to set the correct 53 bits precision for a b...">Set_ieee_double_precision</a></code> except that it does not perform the save and restore of the previous state. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../Manual/namespaceCGAL.html">CGAL</a></li><li class="navelem"><a class="el" href="classCGAL_1_1Set__ieee__double__precision.html">Set_ieee_double_precision</a></li>
    <li class="footer">Generated on Mon Oct 1 2018 11:58:44 for CGAL 4.13 - Number Types by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>



</html>
